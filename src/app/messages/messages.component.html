<ng-container *ngIf="{ channel: channel$ | async, user: user$ | async } as obs$">
  <app-messages-header
    [channel]="obs$.channel"
    [starred]="isStarred$ | async"
    [starredChannelsLength]="starredChannelsLength$ | async"
    (star)="onStar($event)"
  ></app-messages-header>

  <app-messages-list
    [messages]="messages$ | async"
    [user]="obs$.user"
  ></app-messages-list>

  <app-messages-actions
    (messageAdd)="onMessageAdd($event, obs$.channel.id, obs$.user)"
  ></app-messages-actions>
</ng-container>
